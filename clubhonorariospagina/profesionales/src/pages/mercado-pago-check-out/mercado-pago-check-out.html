<ion-header>
  <ion-navbar>
    <ion-title>MercadoPago CheckOut</ion-title>
  </ion-navbar>
</ion-header>

<ion-content padding>
  <ion-row>
    <ion-col>
      <h2>Datos del profesional/prestador de servicio</h2>
      <ion-row>
        <ion-col>
          <ion-item>
            <ion-label stacked>DNI/CUIT *</ion-label>
            <ion-input type="number" [(ngModel)]="campos.profesional.dni"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-row>
        <ion-col style="margin-top: -11px;">
          <ion-buttons end>
            <button float-right color="secondary" ion-button outline (click)="consultarProfesional()">
              <ion-icon name="search" style="margin-right: 5px;"></ion-icon>BUSCAR</button>
          </ion-buttons>
        </ion-col>
      </ion-row>
      <ion-list>
        <ion-item *ngIf="campos.profesional.apellido != null">
          <h2>{{campos.profesional.apellido | uppercase }}, {{campos.profesional.nombre}}</h2>
          <h3>{{campos.profesional.dni}}</h3>
          <p>{{campos.profesional.mail}}</p>
        </ion-item>
      </ion-list>
      <h2>Datos del titular de tarjeta</h2>
      <ion-item>
        <ion-label stacked>DNI</ion-label>
        <ion-input type="text" [(ngModel)]="campos.cliente.dni" class="form-control"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>Nombre</ion-label>
        <ion-input type="text" [(ngModel)]="campos.cliente.nombre" class="form-control"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>Apellido</ion-label>
        <ion-input [(ngModel)]="campos.cliente.apellido" type="text" class="form-control"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label stacked>Mail </ion-label>
        <ion-input [(ngModel)]="campos.cliente.mail" type="text" class="form-control"></ion-input>
      </ion-item>
      <h2>Importes</h2>
      <ion-item>
        <ion-label stacked>Importe de venta</ion-label>
        <ion-input (ionChange)='autoCompletarImportes()' [(ngModel)]="campos.importes.venta" type="number" type="text"></ion-input>
      </ion-item>
      <ion-item>
        <ion-label floating>Elija cantidad de cuotas *</ion-label>
        <ion-select [(ngModel)]='campos.importes.cantCuotas' (ionChange)='autoCompletarImportes()'>
          <ion-option default value="3">3</ion-option>
          <ion-option value="6">6</ion-option>
          <ion-option value="9">9</ion-option>
          <ion-option value="12">12</ion-option>
        </ion-select>
      </ion-item>
      <ion-row>
        <ion-col col-12 col-lg-6 col-md-12>
          <ion-item>
            <ion-label class="letraFuerte" floating>Importe a cobrar</ion-label>
            <ion-input [(ngModel)]='campos.importes.cobrar' disabled type="number" step="0.05" class="form-control importes"></ion-input>
          </ion-item>
        </ion-col>
        <ion-col col-12 col-lg-6 col-md-12>
          <ion-item>
            <ion-label class="letraFuerte" floating>Importe de cuotas</ion-label>
            <ion-input [(ngModel)]='campos.importes.cuota' disabled type="number" step="0.05" class="form-control importes"></ion-input>
          </ion-item>
        </ion-col>
      </ion-row>
      <ion-item>
        <ion-label class="letraFuerte" floating>Importe total de transaccion</ion-label>
        <ion-input disabled [(ngModel)]='campos.importes.carga' type="number" step="0.05" class="form-control importes"></ion-input>
      </ion-item>
      <!-- OJO! El boton va a la funcion GENERAR, no generarDebug.. -->
      <button ion-button (click)="generarPreferencia()">Generar Pago</button>
    </ion-col>
  </ion-row>

</ion-content>